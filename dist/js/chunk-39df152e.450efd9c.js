(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39df152e"],{"5c97":function(t,s,e){},"787c":function(t,s,e){},ac6a:function(t,s,e){for(var i=e("cadf"),n=e("0d58"),a=e("2aba"),c=e("7726"),o=e("32e9"),l=e("84f2"),d=e("2b4c"),r=d("iterator"),h=d("toStringTag"),u=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(f),v=0;v<p.length;v++){var g,L=p[v],C=f[L],m=c[L],k=m&&m.prototype;if(k&&(k[r]||o(k,r,u),k[h]||o(k,h,L),l[L]=u,C))for(g in i)k[g]||a(k,g,i[g],!0)}},b789:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container",staticStyle:{"min-height":"581px"}},[e("div",{staticClass:"content clearfix js-page-content"},[e("div",{attrs:{id:"cart-container"}},[e("div",[e("div",{staticClass:"js-shop-list shop-list"},t._l(t.shopList,function(s,i){return e("div",{key:s.id,staticClass:"block block-order block-cart"},[e("div",{staticClass:"header"},[e("div",{staticClass:"select-group js-select-group"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"check",class:{checked:s.selected},on:{click:function(s){t.selectShop(i)}}})]),e("a",{staticClass:"shop-title"},[e("i",{staticClass:"custom-store-img"},[t._v("店铺：")]),t._v("\n                "+t._s(s.title)+"\n              ")]),e("a",{directives:[{name:"show",rawName:"v-show",value:s.canEdit,expression:"shop.canEdit"}],staticClass:"j-edit-list pull-right c-blue font-size-12 edit-list",attrs:{href:"javascript:;","data-type":"cart"},on:{click:function(s){t.edit(i)}}},[t._v("\n                "+t._s(s.status)+"\n              ")])]),e("div",[e("ul",{staticClass:"js-list block block-list block-list-cart border-0"},t._l(s.goodList,function(n,a){return e("li",{key:n.id,ref:"list-"+i+"-"+a,refInFor:!0,staticClass:"block-item block-item-cart",on:{touchstart:function(s){t.start(s,n)},touchend:function(s){t.end(s,n,i,a)}}},[e("div",[e("div",{staticClass:"check-container"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"check",class:{checked:n.selected},on:{click:function(s){t.selectGood(a,i)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.canEdit&&t.editing,expression:"shop.canEdit&&editing"}],staticClass:"check",class:{checked:n.deletedSelected},on:{click:function(t){n.deletedSelected=!n.deletedSelected}}})]),e("div",{staticClass:"name-card clearfix"},[e("a",{staticClass:"thumb js-goods-link",attrs:{href:"#"}},[e("img",{staticClass:"js-lazy",attrs:{src:n.thumbnail}})]),e("div",{staticClass:"detail"},[e("a",{staticClass:"js-goods-link",attrs:{href:"#"}},[e("h3",{staticClass:"title js-ellipsis"},[e("i",[t._v(t._s(n.title))])])]),e("p",{staticClass:"sku ellipsis"},[t._v(t._s(n.sku))]),e("div",{staticClass:"num"},[t._v("\n                          ×\n                          "),e("span",{staticClass:"num-txt"},[t._v(t._s(n.quantity))])]),e("div",{staticClass:"num"},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.editing,expression:"shop.editing"}],staticClass:"quantity"},[e("button",{staticClass:"minus",class:{disabled:n.quantity<=1},attrs:{type:"button"}}),e("input",{staticClass:"txt",attrs:{type:"text",pattern:"[0-9]*"},domProps:{value:n.quantity}}),e("button",{staticClass:"plus",attrs:{type:"button"}}),e("div",{staticClass:"response-area response-area-minus",on:{click:function(s){t.countQuantity(i,a,-1)}}}),e("div",{staticClass:"response-area response-area-plus",on:{click:function(s){t.countQuantity(i,a,1)}}})])]),e("div",{staticClass:"price c-orange"},[t._v("\n                          ¥\n                          "),e("span",[t._v(t._s(n.price))])])]),e("div",{staticClass:"error-box"})]),e("div",{staticClass:"delete-btn",on:{click:function(s){t.deleteGood(i,a)}}},[e("span",[t._v("删除")])])])])}),0)])])}),0),e("div",{staticClass:"js-bottom-opts bottom-fix",staticStyle:{padding:"0"}},[e("div",{staticClass:"bottom-cart clear-fix"},[e("div",{staticClass:"select-all"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"check",class:{checked:t.allSelected},on:{click:function(s){t.allSelected=!t.allSelected}}}),t.editing&&-1!==t.editIndex?e("span",{staticClass:"check",class:{checked:t.allDeletedSelected},on:{click:function(s){t.allDeletedSelected=!t.allDeletedSelected}}}):t._e(),t._v("\n              全选\n            ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"total-price"},[t._v("\n              合计：¥\n              "),e("span",{staticClass:"js-total-price",staticStyle:{color:"rgb(255, 102, 0)"}},[t._v(t._s(t.total))]),e("p",{staticClass:"c-gray-dark"},[t._v("不含运费")])]),e("button",{staticClass:"js-go-pay btn btn-orange-dark font-size-14",attrs:{href:"javascript:;",disabled:!t.count}},[t._v("结算 ("+t._s(t.count)+")")]),t.editing?e("button",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],staticClass:"j-delete-goods btn font-size-14 btn-red",attrs:{href:"javascript:;",disabled:!t.allDeletedSelected},on:{click:function(s){t.deleteAllGoods(t.shopIndex)}}},[t._v("删除")]):t._e()])])])])])])},n=[],a=(e("ac6a"),e("cadf"),e("551c"),e("097d"),e("5c97"),e("f302"),e("787c"),{name:"cart",data:function(){return{shopList:[],editing:!1,editIndex:-1}},methods:{getList:function(){var t=this;this.$axios.post("/cart/list").then(function(s){s.data.cartList.forEach(function(t){t.selected=!0,t.editing=!1,t.status="编辑",t.canEdit=!0,t.goodList.forEach(function(t){t.selected=!0,t.deletedSelected=!1})}),t.shopList=s.data.cartList})},selectShop:function(t){var s=this.shopList[t];s.selected=!s.selected,s.goodList.forEach(function(t){t.selected=s.selected})},selectGood:function(t,s){var e=this.shopList[s];e.goodList[t].selected=!e.goodList[t].selected,e.selected=e.goodList.every(function(t){return!0===t.selected})},edit:function(t){this.editing=!this.editing,this.editing?this.editIndex=t:this.editIndex=-1,this.shopList[t].editing=!this.shopList[t].editing,this.shopList[t].status=this.shopList[t].editing?"完成":"编辑",this.shopList[t].editing?this.shopList.forEach(function(s,e){e!==t&&(s.canEdit=!1)}):this.shopList.forEach(function(t){t.canEdit=!0})},countQuantity:function(t,s,e){var i=this.shopList[t].goodList[s];-1===e&&i.quantity<=1||(i.quantity+=e)},start:function(t,s){s.startX=t.changedTouches[0].clientX},end:function(t,s,e,i){if(s.endX=t.changedTouches[0].clientX,this.editing||this.editIndex===e){var n=this.$refs["list-".concat(e,"-").concat(i)][0];n.style.transition="0.1s",s.startX-s.endX>50?n.style.transform="translateX(-65px)":s.startX-s.endX<-50&&(n.style.transform="translateX(0px)")}},deleteGood:function(t,s){this.shopList[t].goodList.splice(s,1),0===this.shopList[t].goodList.length&&(this.shopList.splice(t,1),this.changeCanEdit())},deleteAllGoods:function(t){this.shopList.splice(t,1),this.changeCanEdit()},changeCanEdit:function(){this.editing=!1,this.editIndex=-1,this.shopList.forEach(function(t){t.canEdit=!0})}},computed:{allSelected:{get:function(){return this.shopList.every(function(t){return!0===t.selected})},set:function(t){this.shopList.forEach(function(s){s.selected=t,s.goodList.forEach(function(s){s.selected=t})})}},allDeletedSelected:{get:function(){return this.shopList[this.editIndex].goodList.every(function(t){return!0===t.deletedSelected})},set:function(t){this.shopList[this.editIndex].goodList.forEach(function(s){s.deletedSelected=t})}},total:function(){var t=0;return this.shopList.forEach(function(s){s.goodList.forEach(function(s){s.selected&&(t+=s.price*s.quantity)})}),t},count:function(){var t=0;return this.shopList.forEach(function(s){s.goodList.forEach(function(s){s.selected&&t++})}),t},goods:function(){var t=[];return this.shopList.forEach(function(s){s.goodList.forEach(function(s){!0===s.selected&&t.push(s)})}),t}},created:function(){this.getList()}}),c=a,o=e("2877"),l=Object(o["a"])(c,i,n,!1,null,"fb6df85a",null);l.options.__file="Cart.vue";s["default"]=l.exports},f302:function(t,s,e){}}]);
//# sourceMappingURL=chunk-39df152e.450efd9c.js.map